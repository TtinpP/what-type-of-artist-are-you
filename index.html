<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç: –¢–≤–æ–π –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ê—Ä—Ö–µ—Ç–∏–ø</title>
    <style>
        :root {
            --primary-color: #f472b6; /* –†–æ–∑–æ–≤—ã–π –Ω–µ–æ–Ω */
            --bg-color: #1a1025;      /* –ì–ª—É–±–æ–∫–∏–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ñ–æ–Ω */
            --card-color: #2e1a3d;    /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
            --text-color: #fce7f3;
            --accent-blue: #60a5fa;
            --accent-green: #34d399;
            --accent-yellow: #fbbf24;
            --accent-purple: #c084fc;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-image: radial-gradient(circle at 50% 0%, #4c1d95 0%, #1a1025 70%);
        }

        .container {
            background-color: var(--card-color);
            padding: 2.5rem;
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
            max-width: 750px;
            width: 100%;
            text-align: center;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.5s ease;
        }

        /* –û–ë–õ–û–ñ–ö–ê */
        .start-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px 0;
            animation: fadeIn 0.8s ease;
        }

        .start-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        .start-title {
            font-size: 38px;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(90deg, #fff, var(--primary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }

        .start-desc {
            font-size: 17px;
            color: #d8b4fe;
            margin-bottom: 30px;
            max-width: 450px;
            line-height: 1.6;
        }

        /* INPUT */
        .input-group {
            position: relative;
            margin-bottom: 30px;
            width: 100%;
            max-width: 320px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .tg-input-wrapper { position: relative; flex-grow: 1; display: flex; align-items: center; }
        .tg-at-symbol { position: absolute; left: 15px; color: #a78bfa; font-size: 18px; pointer-events: none; }
        .tg-input {
            width: 100%; padding: 15px 15px 15px 35px; border-radius: 12px;
            border: 2px solid #581c87; background-color: #1e1b4b; color: #fff;
            font-size: 16px; outline: none; transition: 0.3s;
        }
        .tg-input:focus { border-color: var(--primary-color); box-shadow: 0 0 15px rgba(244, 114, 182, 0.2); }
        .confirm-btn {
            background-color: #581c87; color: #d8b4fe; border: none; border-radius: 12px;
            padding: 15px 20px; font-weight: bold; cursor: not-allowed; transition: 0.3s;
        }
        .confirm-btn.active { background-color: var(--primary-color); color: #fff; cursor: pointer; }
        
        .start-btn {
            background: #4c1d95; color: #a78bfa; border: none; padding: 20px 60px;
            border-radius: 50px; font-size: 20px; font-weight: 800; cursor: not-allowed;
            text-transform: uppercase; letter-spacing: 2px; transition: all 0.3s ease; opacity: 0.5;
        }
        .start-btn.ready {
            background: linear-gradient(135deg, var(--primary-color), #ec4899);
            color: #fff; cursor: pointer; opacity: 1; animation: pulse-btn 2s infinite;
            box-shadow: 0 0 25px rgba(236, 72, 153, 0.4);
        }
        .start-btn.ready:hover { transform: scale(1.05); }

        /* PROGRESS & QUESTIONS */
        #quiz-container { display: none; }
        .progress-container { margin-bottom: 30px; }
        .progress-track { background-color: #4c1d95; height: 6px; border-radius: 3px; overflow: hidden; }
        .progress-fill {
            background: linear-gradient(90deg, var(--primary-color), #fff); height: 100%; width: 0%;
            transition: width 0.5s ease; box-shadow: 0 0 15px var(--primary-color);
        }
        
        h2 { color: #fff; margin-bottom: 30px; font-size: 22px; font-weight: 700; min-height: 60px; display: flex; align-items: center; justify-content: center; }
        
        .btn {
            background-color: #4c1d95; padding: 18px 22px; border: 1px solid transparent;
            color: #e9d5ff; border-radius: 14px; cursor: pointer; transition: all 0.2s ease;
            font-size: 16px; text-align: left; font-weight: 500; margin-bottom: 12px; width: 100%;
        }
        .btn:hover { background-color: #5b21b6; border-color: var(--primary-color); color: #fff; transform: translateY(-2px); }

        /* RESULTS */
        .result-box { display: none; animation: slideUp 0.6s ease; text-align: left; }
        .result-header-center { text-align: center; margin-bottom: 30px; }
        .result-icon { font-size: 70px; margin-bottom: 10px; display: inline-block; animation: float 3s infinite; }
        .result-label { text-transform: uppercase; letter-spacing: 2px; font-size: 12px; color: var(--primary-color); font-weight: 800; }
        .result-title { font-size: 32px; font-weight: 800; color: #fff; margin-top: 5px; }
        
        .quote-box {
            font-style: italic; color: #d8b4fe; border-left: 3px solid var(--primary-color);
            padding-left: 15px; margin: 0 auto 30px; max-width: 90%; text-align: left; font-size: 16px;
        }

        .res-section { margin-bottom: 20px; padding: 25px; background: rgba(0,0,0,0.2); border-radius: 16px; border-left: 4px solid transparent; }
        
        .res-section.psycho { border-color: var(--primary-color); }
        .res-section.superpowers { border-color: var(--accent-blue); background: rgba(96, 165, 250, 0.05); }
        .res-section.risks { border-color: var(--accent-yellow); background: rgba(251, 191, 36, 0.05); }
        .res-section.advice { border-color: var(--accent-green); background: rgba(52, 211, 153, 0.05); }

        .res-title { font-size: 13px; text-transform: uppercase; letter-spacing: 1px; font-weight: 700; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .res-text { font-size: 16px; line-height: 1.6; color: #e9d5ff; }
        .res-text ul { padding-left: 20px; margin: 10px 0; }
        .res-text li { margin-bottom: 8px; }
        .res-text b { color: #fff; }

        .restart-btn {
            background: linear-gradient(135deg, var(--primary-color), #ec4899); color: #fff;
            border: none; font-weight: 800; text-align: center; font-size: 16px; text-transform: uppercase;
            letter-spacing: 1px; padding: 20px; width: 100%; border-radius: 14px; margin-top: 15px; cursor: pointer;
        }
        .restart-btn:hover { box-shadow: 0 0 25px rgba(236, 72, 153, 0.3); transform: translateY(-2px); }

        .back-btn { background: none; border: none; color: #a78bfa; cursor: pointer; padding: 12px 0; visibility: hidden; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes pulse-btn { 0% { transform: scale(1); } 50% { transform: scale(1.03); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

<!-- –≠–ö–†–ê–ù 1: –í–•–û–î -->
<div class="container" id="start-screen">
    <div class="start-screen">
        <div class="start-icon">üé®</div>
        <div class="start-title">–ö–∞–∫–æ–π —Ç—ã —Ö—É–¥–æ–∂–Ω–∏–∫?</div>
        <div class="start-desc">–í–∏–∑–∏–æ–Ω–µ—Ä, –í–∏—Ä—Ç—É–æ–∑ –∏–ª–∏ –ú–∞–≥ –•–∞–æ—Å–∞? –£–∑–Ω–∞–π —Å–≤–æ–π —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –∞—Ä—Ö–µ—Ç–∏–ø, —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ —Å–∫—Ä—ã—Ç—ã–µ —Ä–∏—Å–∫–∏.</div>
        
        <div class="input-group">
            <div class="tg-input-wrapper">
                <span class="tg-at-symbol">@</span>
                <input type="text" class="tg-input" id="tg-username" placeholder="—Ç–≤–æ–π_–Ω–∏–∫" maxlength="32" oninput="validateInput()">
            </div>
            <button class="confirm-btn" id="confirm-btn" onclick="confirmTelegram()">OK</button>
        </div>

        <button class="start-btn" id="start-quiz-btn" onclick="startQuiz()">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
    </div>
</div>

<!-- –≠–ö–†–ê–ù 2: –¢–ï–°–¢ -->
<div class="container" id="quiz-container">
    <div class="progress-container">
        <div class="progress-track">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
    </div>

    <h2 id="question">–í–æ–ø—Ä–æ—Å...</h2>
    <div id="answers"></div>

    <button class="back-btn" id="back-btn" onclick="prevStep()">‚Üê –ù–∞–∑–∞–¥</button>
</div>

<!-- –≠–ö–†–ê–ù 3: –†–ï–ó–£–õ–¨–¢–ê–¢ -->
<div class="container result-box" id="result-container">
    <div class="result-header-center">
        <div class="result-icon" id="result-emoji">‚ú®</div>
        <div class="result-label">–¢–≤–æ—è —Ç–≤–æ—Ä—á–µ—Å–∫–∞—è —Å—É—â–Ω–æ—Å—Ç—å</div>
        <div class="result-title" id="result-role">–†–æ–ª—å</div>
    </div>
    
    <div class="quote-box" id="result-quote"></div>

    <div class="res-section psycho">
        <div class="res-title" style="color: var(--primary-color);">üß† –ö—Ç–æ —Ç—ã –µ—Å—Ç—å</div>
        <div class="res-text" id="res-psycho"></div>
    </div>

    <div class="res-section superpowers">
        <div class="res-title" style="color: var(--accent-blue);">üíé –¢–≤–æ–∏ —Å—É–ø–µ—Ä—Å–∏–ª—ã</div>
        <div class="res-text" id="res-superpowers"></div>
    </div>

    <div class="res-section risks">
        <div class="res-title" style="color: var(--accent-yellow);">‚ö†Ô∏è –õ–æ–≤—É—à–∫–∏ –∏ –†–∏—Å–∫–∏</div>
        <div class="res-text" id="res-risks"></div>
    </div>

    <div class="res-section advice">
        <div class="res-title" style="color: var(--accent-green);">üöÄ –°–æ–≤–µ—Ç –¥–ª—è —Ä–æ—Å—Ç–∞</div>
        <div class="res-text" id="res-advice"></div>
    </div>

    <button class="btn restart-btn" onclick="location.reload()">–ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
</div>

<script>
    // –°—Å—ã–ª–∫–∞ –Ω–∞ Google Script (–û—Å—Ç–∞–≤—å –∫–∞–∫ –µ—Å—Ç—å –∏–ª–∏ –∑–∞–º–µ–Ω–∏)
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycby6zI-h-JUho1OmIzzQCCh7ra0aKBtIj_PXcBbRx-2wx0DgiLOYOR1qaa8mTPBBzPBTgg/exec";
    
    let telegramNick = "";
    let currentStep = 0;
    
    // –ê—Ä—Ö–µ—Ç–∏–ø—ã:
    // virtuoso - –í–∏—Ä—Ç—É–æ–∑ (–¢–µ—Ö–Ω–∏–∫–∞, –¥–µ—Ç–∞–ª–∏)
    // chaos - –ú–∞–≥ –•–∞–æ—Å–∞ (–≠–º–æ—Ü–∏–∏, —ç–∫—Å–ø—Ä–µ—Å—Å–∏—è)
    // story - –°–∫–∞–∑–æ—á–Ω–∏–∫ (–ò–¥–µ—è, –ª–æ—Ä, –∫–æ–Ω—Ü–µ–ø—Ç)
    // innovator - –ò–Ω–Ω–æ–≤–∞—Ç–æ—Ä (–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã, –Ω–æ–≤—ã–µ –º–µ–¥–∏–∞)

    let userScores = { virtuoso: 0, chaos: 0, story: 0, innovator: 0 };
    let scoreHistory = [];
    let userAnswers = [];

    // === –í–û–ü–†–û–°–´ ===
    const questions = [
        {
            text: "–¢—ã –Ω–∞—á–∏–Ω–∞–µ—à—å –Ω–æ–≤—É—é —Ä–∞–±–æ—Ç—É. –ß—Ç–æ –ª–µ–∂–∏—Ç –ø–µ—Ä–µ–¥ —Ç–æ–±–æ–π (–∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ)?",
            options: [
                { text: "–ß–µ—Ç–∫–∏–π –ø–ª–∞–Ω, —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã –∞–Ω–∞—Ç–æ–º–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–∏—Å—Ç–∏.", scores: { virtuoso: 3 } },
                { text: "–ü—É—Å—Ç–æ–π —Ö–æ–ª—Å—Ç –∏ –∂–µ–ª–∞–Ω–∏–µ –≤—ã–ø–ª–µ—Å–Ω—É—Ç—å —Ç–æ, —á—Ç–æ –Ω–∞–∫–æ–ø–∏–ª–æ—Å—å –≤–Ω—É—Ç—Ä–∏.", scores: { chaos: 3 } },
                { text: "–ó–∞–º–µ—Ç–∫–∏ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –º–∏—Ä–∞.", scores: { story: 3 } },
                { text: "–ù–æ–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏–ª–∏ —Ç–µ—Ö–Ω–∏–∫–∞, –∫–æ—Ç–æ—Ä—É—é —è –µ—â–µ –Ω–µ –ø—Ä–æ–±–æ–≤–∞–ª.", scores: { innovator: 3 } }
            ]
        },
        {
            text: "–¢—ã –¥–æ–ø—É—Å—Ç–∏–ª –æ—à–∏–±–∫—É –≤ –ø—Ä–æ–ø–æ—Ä—Ü–∏—è—Ö –∏–ª–∏ —Ü–≤–µ—Ç–µ. –¢–≤–æ—è —Ä–µ–∞–∫—Ü–∏—è?",
            options: [
                { text: "–ò—Å–ø—Ä–∞–≤–ª—é –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ. –≠—Ç–æ —Ä–µ–∂–µ—Ç –º–Ω–µ –≥–ª–∞–∑–∞.", scores: { virtuoso: 2 } },
                { text: "–û—Å—Ç–∞–≤–ª—é –∫–∞–∫ –µ—Å—Ç—å. –≠—Ç–æ –Ω–µ –±–∞–≥, —ç—Ç–æ —Ñ–∏—á–∞ –∏ —ç–º–æ—Ü–∏—è!", scores: { chaos: 3 } },
                { text: "–ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –º–µ—à–∞–µ—Ç —Å—á–∏—Ç—ã–≤–∞—Ç—å —Å—é–∂–µ—Ç, —Ç–æ –ø–ª–µ–≤–∞—Ç—å.", scores: { story: 2 } },
                { text: "–ü—Ä–µ–≤—Ä–∞—â—É –ø—è—Ç–Ω–æ –≤ –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç. –ì–ª–∏—Ç—á-–∞—Ä—Ç, –ø–æ–≥–Ω–∞–ª–∏!", scores: { innovator: 2 } }
            ]
        },
        {
            text: "–ß—Ç–æ –¥–ª—è —Ç–µ–±—è —Å–∞–º–æ–µ —Å—Ç—Ä–∞—à–Ω–æ–µ –≤ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–µ?",
            options: [
                { text: "–°–¥–µ–ª–∞—Ç—å –∫—Ä–∏–≤–æ, –∞–Ω–∞—Ç–æ–º–∏—á–µ—Å–∫–∏ –Ω–µ–≤–µ—Ä–Ω–æ, –¥–∏–ª–µ—Ç–∞–Ω—Ç—Å–∫–∏.", scores: { virtuoso: 3 } },
                { text: "–ü–æ—Ç–µ—Ä—è—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ –¥–µ–ª–∞—Ç—å ¬´—Å—É—Ö–∏–µ¬ª, –±–µ–∑–¥—É—à–Ω—ã–µ —Ä–∞–±–æ—Ç—ã.", scores: { chaos: 3 } },
                { text: "–ö–æ–≥–¥–∞ —Ä–∞–±–æ—Ç—É –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∏, –Ω–æ –Ω–µ –ø–æ–Ω—è–ª–∏ —Å–º—ã—Å–ª, –∫–æ—Ç–æ—Ä—ã–π —è –≤–ª–æ–∂–∏–ª.", scores: { story: 3 } },
                { text: "–ó–∞—Å—Ç—Ä—è—Ç—å –≤ –æ–¥–Ω–æ–º —Å—Ç–∏–ª–µ –∏ —Ä–∏—Å–æ–≤–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –≥–æ–¥–∞–º–∏.", scores: { innovator: 3 } }
            ]
        },
        {
            text: "–¢–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç –æ—Ç –∑—Ä–∏—Ç–µ–ª—è:",
            options: [
                { text: "¬´–ö–∞–∫ —Ç—ã —ç—Ç–æ —Å–¥–µ–ª–∞–ª?! –¢–µ—Ö–Ω–∏–∫–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è!¬ª", scores: { virtuoso: 3 } },
                { text: "¬´–Ø –ø—Ä—è–º–æ —á—É–≤—Å—Ç–≤—É—é —ç—Ç—É –±–æ–ª—å/—Ä–∞–¥–æ—Å—Ç—å —á–µ—Ä–µ–∑ —ç–∫—Ä–∞–Ω¬ª.", scores: { chaos: 3 } },
                { text: "¬´–Ø —Ö–æ—á—É —É–∑–Ω–∞—Ç—å, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å —Å —ç—Ç–∏–º –≥–µ—Ä–æ–µ–º –¥–∞–ª—å—à–µ¬ª.", scores: { story: 3 } },
                { text: "¬´–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–∏–¥–µ–ª –Ω–∏—á–µ–≥–æ –ø–æ–¥–æ–±–Ω–æ–≥–æ, —ç—Ç–æ –≤–∑—Ä—ã–≤ –º–æ–∑–≥–∞!¬ª", scores: { innovator: 3 } }
            ]
        },
        {
            text: "–ö–∞–∫ —Ç—ã –æ—Ç–Ω–æ—Å–∏—à—å—Å—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤?",
            options: [
                { text: "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –ù—É–∂–Ω–æ –∏–∑—É—á–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –ø—Ä–µ–∂–¥–µ —á–µ–º —Ä–∏—Å–æ–≤–∞—Ç—å.", scores: { virtuoso: 3 } },
                { text: "–ò–Ω–æ–≥–¥–∞ –º–µ—à–∞—é—Ç. –õ—É—á—à–µ —Ä–∏—Å–æ–≤–∞—Ç—å –∏–∑ –≥–æ–ª–æ–≤—ã –∏ –ø–æ –Ω–∞–∏—Ç–∏—é.", scores: { chaos: 2 } },
                { text: "–ò—â—É —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã –¥–ª—è –æ–¥–µ–∂–¥—ã, —ç–ø–æ—Ö–∏ –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã, —á—Ç–æ–±—ã –º–∏—Ä –±—ã–ª –ª–æ–≥–∏—á–Ω—ã–º.", scores: { story: 3 } },
                { text: "–ë–µ—Ä—É 10 —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤, —Å–º–µ—à–∏–≤–∞—é –∏—Ö –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é –∏ –∫–æ–ª–ª–∞–∂–∏—Ä—É—é.", scores: { innovator: 3 } }
            ]
        },
        {
            text: "–ó–∞—á–µ–º —Ç—ã –≤–æ–æ–±—â–µ —Ç–≤–æ—Ä–∏—à—å?",
            options: [
                { text: "–°—Ç—Ä–µ–º–ª—é—Å—å –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É –∏ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤—É.", scores: { virtuoso: 2 } },
                { text: "–≠—Ç–æ –º–æ–π —Å–ø–æ—Å–æ–± —Ç–µ—Ä–∞–ø–∏–∏ –∏ –æ–±—â–µ–Ω–∏—è —Å –º–∏—Ä–æ–º.", scores: { chaos: 2 } },
                { text: "–ú–Ω–µ —Ç–µ—Å–Ω–æ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏, —è —Å—Ç—Ä–æ—é —Å–≤–æ–∏ –≤—Å–µ–ª–µ–Ω–Ω—ã–µ.", scores: { story: 2 } },
                { text: "–ú–Ω–µ –ª—é–±–æ–ø—ã—Ç–Ω–æ: ¬´–ê —á—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ —Å–º–µ—à–∞—Ç—å —ç—Ç–æ –∏ —ç—Ç–æ?¬ª", scores: { innovator: 2 } }
            ]
        },
        {
            text: "–í—ã–±–µ—Ä–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–º–µ—Ç–∞—Ñ–æ—Ä–∏—á–µ—Å–∫–∏):",
            options: [
                { text: "–°–∫–∞–ª—å–ø–µ–ª—å. –¢–æ—á–Ω–æ—Å—Ç—å –∏ —á–∏—Å—Ç–æ—Ç–∞.", scores: { virtuoso: 2 } },
                { text: "–û–≥–Ω–µ–º–µ—Ç. –Ø—Ä–∫–æ, –±—ã—Å—Ç—Ä–æ, –æ–ø–∞—Å–Ω–æ.", scores: { chaos: 2 } },
                { text: "–ü–µ—Ä–æ –ª–µ—Ç–æ–ø–∏—Å—Ü–∞. –ó–∞–ø–∏—Å–∞—Ç—å –≤–µ—á–Ω–æ—Å—Ç—å.", scores: { story: 2 } },
                { text: "–®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π –Ω–æ–∂ —Å –ª–∞–∑–µ—Ä–æ–º. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å.", scores: { innovator: 2 } }
            ]
        }
    ];

    // === –†–ï–ó–£–õ–¨–¢–ê–¢–´ ===
    const resultsData = {
        'virtuoso': {
            title: "üíé –í–∏—Ä—Ç—É–æ–∑ / –•—Ä–∞–Ω–∏—Ç–µ–ª—å –ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞",
            icon: "üíé",
            quote: "¬´–ö—Ä–∞—Å–æ—Ç–∞ –≤ –¥–µ—Ç–∞–ª—è—Ö¬ª.",
            psycho: "<p>–¢—ã - –ø–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç –≤ –ª—É—á—à–µ–º —Å–º—ã—Å–ª–µ —Å–ª–æ–≤–∞. –¢—ã –Ω–µ —É—Å–ø–æ–∫–æ–∏—à—å—Å—è, –ø–æ–∫–∞ –±–ª–∏–∫ –Ω–∞ –¥–æ—Å–ø–µ—Ö–µ –Ω–µ –±—É–¥–µ—Ç —Å—Ç–æ—è—Ç—å –∏–¥–µ–∞–ª—å–Ω–æ. –î–ª—è —Ç–µ–±—è –∏—Å–∫—É—Å—Å—Ç–≤–æ - —ç—Ç–æ –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ <b>–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –∏ –Ω–∞—É–∫–∞</b>. –¢—ã –≤–∏–¥–∏—à—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–º, –≥–¥–µ –¥—Ä—É–≥–∏–µ –≤–∏–¥—è—Ç –ø—è—Ç–Ω–∞. –¢–≤–æ–∏ —Ä–∞–±–æ—Ç—ã –≤—ã–∑—ã–≤–∞—é—Ç —É–≤–∞–∂–µ–Ω–∏–µ –∫–æ–ª–ª–µ–≥ —Å–≤–æ–µ–π —Ç–µ—Ö–Ω–∏—á–Ω–æ—Å—Ç—å—é.</p>",
            superpowers: "<ul><li><b>–ì–ª–∞–∑-–∞–ª–º–∞–∑:</b> –¢—ã –≤–∏–¥–∏—à—å –æ—à–∏–±–∫–∏ –≤ –ø—Ä–æ–ø–æ—Ä—Ü–∏—è—Ö –∑–∞ –∫–∏–ª–æ–º–µ—Ç—Ä.</li><li><b>–¢–µ—Ä–ø–µ–Ω–∏–µ:</b> –¢—ã –º–æ–∂–µ—à—å —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –æ–¥–∏–Ω —Ñ—Ä–∞–≥–º–µ–Ω—Ç —á–∞—Å–∞–º–∏.</li><li><b>–§—É–Ω–¥–∞–º–µ–Ω—Ç:</b> –¢–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –±–∞–∑—ã –Ω–µ—Ä—É—à–∏–º—ã.</li></ul>",
            risks: "<ul><li><b>–ü–∞—Ä–∞–ª–∏—á –ø–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç–∞:</b> –¢—ã –º–æ–∂–µ—à—å –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–∫–æ–Ω—á–∏—Ç—å —Ä–∞–±–æ—Ç—É, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ ¬´–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–∞¬ª.</li><li><b>–°–∫—É–∫–∞:</b> –ò–Ω–æ–≥–¥–∞ –∑–∞ —Ç–µ—Ö–Ω–∏–∫–æ–π —Ç–µ—Ä—è–µ—Ç—Å—è –∂–∏–∑–Ω—å –∏ —ç–º–æ—Ü–∏—è.</li></ul>",
            advice: "<p>–†–∞–∑—Ä–µ—à–∏ —Å–µ–±–µ –æ—à–∏–±–∞—Ç—å—Å—è. –ü–æ–ø—Ä–æ–±—É–π —Å–¥–µ–ª–∞—Ç—å ¬´–≥—Ä—è–∑–Ω—ã–π¬ª —Å–∫–µ—Ç—á –∏ –∑–∞–ø—Ä–µ—Ç–∏ —Å–µ–±–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è Ctrl+Z –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç. –ò–Ω–æ–≥–¥–∞ –∂–∏–≤–∞—è –∫—Ä–∏–≤–∞—è –ª–∏–Ω–∏—è –ª—É—á—à–µ –∏–¥–µ–∞–ª—å–Ω–æ–π –º–µ—Ä—Ç–≤–æ–π.</p>"
        },
        'chaos': {
            title: "üå™Ô∏è –ú–∞–≥ –•–∞–æ—Å–∞ / –≠–∫—Å–ø—Ä–µ—Å—Å–∏–æ–Ω–∏—Å—Ç",
            icon: "üå™Ô∏è",
            quote: "¬´–Ø –Ω–µ —Ä–∏—Å—É—é –ø—Ä–µ–¥–º–µ—Ç—ã, —è —Ä–∏—Å—É—é —Ç–æ, —á—Ç–æ —è —á—É–≤—Å—Ç–≤—É—é –∫ –Ω–∏–º¬ª.",
            psycho: "<p>–¢—ã - –æ–≥–æ–ª–µ–Ω–Ω—ã–π –Ω–µ—Ä–≤. –¢–≤–æ–∏ —Ä–∞–±–æ—Ç—ã - —ç—Ç–æ —á–∏—Å—Ç–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ. –¢–µ–±–µ –ø–ª–µ–≤–∞—Ç—å –Ω–∞ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π —à—Ç—Ä–∏—Ö, –µ—Å–ª–∏ –æ–Ω –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç —è—Ä–æ—Å—Ç—å –∏–ª–∏ –Ω–µ–∂–Ω–æ—Å—Ç—å. –¢—ã —Ä–∞–±–æ—Ç–∞–µ—à—å –Ω–∞ –∏–º–ø—É–ª—å—Å–µ, –±—ã—Å—Ç—Ä–æ, –∏–Ω–æ–≥–¥–∞ –Ω–µ–∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –Ω–æ –≤—Å–µ–≥–¥–∞ <b>—á–µ—Å—Ç–Ω–æ</b>. –ó—Ä–∏—Ç–µ–ª—å –ø—Ä–æ—â–∞–µ—Ç —Ç–µ–±–µ –æ—à–∏–±–∫–∏ –∞–Ω–∞—Ç–æ–º–∏–∏ –∑–∞ —Ç—É —ç–Ω–µ—Ä–≥–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—å–µ—Ç —Å —Ö–æ–ª—Å—Ç–∞.</p>",
            superpowers: "<ul><li><b>–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞:</b> –¢–≤–æ–∏ —Ä–∞–±–æ—Ç—ã —Ü–µ–ø–ª—è—é—Ç –≤–∑–≥–ª—è–¥ –¥–∞–∂–µ –≤ –ø—Ä–µ–≤—å—é 50x50 –ø–∏–∫—Å–µ–ª–µ–π.</li><li><b>–°–∫–æ—Ä–æ—Å—Ç—å:</b> –¢—ã –º–æ–∂–µ—à—å –≤—ã–¥–∞—Ç—å —à–µ–¥–µ–≤—Ä –∑–∞ 20 –º–∏–Ω—É—Ç –Ω–∞ —Å–∞–ª—Ñ–µ—Ç–∫–µ.</li><li><b>–ò—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å:</b> –¢—ã –Ω–µ —É–º–µ–µ—à—å –≤—Ä–∞—Ç—å –≤ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–µ.</li></ul>",
            risks: "<ul><li><b>–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:</b> –°–µ–≥–æ–¥–Ω—è —à–µ–¥–µ–≤—Ä, –∑–∞–≤—Ç—Ä–∞ –≤—ã–≥–æ—Ä–∞–Ω–∏–µ –∏ –∞–ø–∞—Ç–∏—è.</li><li><b>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–∞–∑—ã:</b> –ò–Ω–æ–≥–¥–∞ –∫–ª–∞—Å—Å–Ω–∞—è –∏–¥–µ—è —Ä—É—à–∏—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ç–µ—Ö–Ω–∏–∫–∏ –µ–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å.</li></ul>",
            advice: "<p>–ò–∑—É—á–∞–π –±–∞–∑—É –¥–æ–∑–∏—Ä–æ–≤–∞–Ω–æ. –ù–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å —Å–∫—É—á–Ω—ã–º –∞–∫–∞–¥–µ–º–∏–∫–æ–º, –∞ —á—Ç–æ–±—ã —Ç–≤–æ–∏ —Ä—É–∫–∏ —É—Å–ø–µ–≤–∞–ª–∏ –∑–∞ –ø–æ–ª–µ—Ç–æ–º —Ç–≤–æ–µ–π —Ñ–∞–Ω—Ç–∞–∑–∏–∏.</p>"
        },
        'story': {
            title: "üìñ –°–∫–∞–∑–æ—á–Ω–∏–∫ / –í–∏–∑–∏–æ–Ω–µ—Ä",
            icon: "üìñ",
            quote: "¬´–ö–∞—Ä—Ç–∏–Ω–∫–∞ –±–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏ - –ø—Ä–æ—Å—Ç–æ –æ–±–æ–∏¬ª.",
            psycho: "<p>–¢—ã - –ø–∏—Å–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—Ä–∞—Å–∫–∏ –≤–º–µ—Å—Ç–æ —Å–ª–æ–≤. –¢–µ—Ö–Ω–∏–∫–∞ –¥–ª—è —Ç–µ–±—è –≤—Ç–æ—Ä–∏—á–Ω–∞, –≥–ª–∞–≤–Ω–æ–µ - <b>–∫–æ–Ω—Ç–µ–∫—Å—Ç</b>. –¢—ã –ø—Ä–æ–¥—É–º—ã–≤–∞–µ—à—å, –ø–æ—á–µ–º—É —É –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —à—Ä–∞–º, –∫–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –≤ —ç—Ç–æ–º –º–∏—Ä–µ –∏ –∫–∞–∫–∞—è –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —É –æ—Ä–∫–æ–≤. –¢–≤–æ–∏ —Ä–∞–±–æ—Ç—ã —Ö–æ—á–µ—Ç—Å—è —Ä–∞–∑–≥–ª—è–¥—ã–≤–∞—Ç—å –∏ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã.</p>",
            superpowers: "<ul><li><b>Worldbuilding:</b> –¢—ã —Å–æ–∑–¥–∞–µ—à—å —Ü–µ–ª—ã–µ –≤—Å–µ–ª–µ–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–π –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏.</li><li><b>–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Å–º—ã—Å–ª–æ–≤:</b> –ö–∞–∂–¥–∞—è –¥–µ—Ç–∞–ª—å –≤ —Ç–≤–æ–µ–π —Ä–∞–±–æ—Ç–µ –∏–º–µ–µ—Ç –ø—Ä–∏—á–∏–Ω—É.</li><li><b>–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç:</b> –¢–≤–æ–µ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ –≥–ª—É–±–æ–∫–æ–µ –∏ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–µ.</li></ul>",
            risks: "<ul><li><b>–ì—Ä–∞—Ñ–æ–º–∞–Ω–∏—è:</b> –¢—ã –º–æ–∂–µ—à—å —Ç–∞–∫ —É–≤–ª–µ—á—å—Å—è –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ–º –º–∏—Ä–∞, —á—Ç–æ –∑–∞–±—É–¥–µ—à—å –µ–≥–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å.</li><li><b>–ü–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å:</b> –ñ–µ–ª–∞–Ω–∏–µ –≤–ø–∏—Ö–Ω—É—Ç—å –Ω–µ–≤–ø–∏—Ö—É–µ–º–æ–µ –≤ –æ–¥–∏–Ω –∫–∞–¥—Ä.</li></ul>",
            advice: "<p>–£—á–∏—Å—å –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏. –¢–≤–æ—è –≥–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ - —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ–º –∑—Ä–∏—Ç–µ–ª—è, —á—Ç–æ–±—ã –æ–Ω ¬´–ø—Ä–æ—á–∏—Ç–∞–ª¬ª —Ç–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.</p>"
        },
        'innovator': {
            title: "üß™ –ò–Ω–Ω–æ–≤–∞—Ç–æ—Ä / –¢–µ—Ö–Ω–æ-–ê–ª—Ö–∏–º–∏–∫",
            icon: "üß™",
            quote: "¬´–ê —á—Ç–æ –µ—Å–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å –∞–∫–≤–∞—Ä–µ–ª—å, 3D –∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏?¬ª",
            psycho: "<p>–¢—ã - –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å. –¢–µ–±–µ —Å–∫—É—á–Ω–æ –ø—Ä–æ—Å—Ç–æ —Ä–∏—Å–æ–≤–∞—Ç—å –∫–∏—Å—Ç—å—é. –¢—ã –ø–µ—Ä–≤—ã–º —Å–∫–∞—á–∏–≤–∞–µ—à—å –Ω–æ–≤—ã–µ –ø–ª–∞–≥–∏–Ω—ã, —Ç–µ—Å—Ç–∏—Ä—É–µ—à—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, –º–µ—à–∞–µ—à—å 2D –∏ 3D. –¢—ã –Ω–µ –±–æ–∏—à—å—Å—è –±—ã—Ç—å –Ω–µ–ø–æ–Ω—è—Ç—ã–º. –î–ª—è —Ç–µ–±—è –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–∫—Ä—ã—Ç–∏—è –Ω–æ–≤–æ–≥–æ –º–µ—Ç–æ–¥–∞ –≤–∞–∂–Ω–µ–µ, —á–µ–º —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞.</p>",
            superpowers: "<ul><li><b>–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:</b> –¢—ã –≤—ã–∂–∏–≤–µ—à—å –≤ –ª—é–±–æ–π –∏–Ω–¥—É—Å—Ç—Ä–∏–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –±—ã—Å—Ç—Ä–æ —É—á–∏—à—å—Å—è.</li><li><b>–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:</b> –¢–≤–æ–π —Å—Ç–∏–ª—å —Å–ª–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, —ç—Ç–æ –¥–∏–∫–∞—è —Å–º–µ—Å—å —Ç–µ—Ö–Ω–∏–∫.</li><li><b>–°–º–µ–ª–æ—Å—Ç—å:</b> –¢—ã –ª–æ–º–∞–µ—à—å –ø—Ä–∞–≤–∏–ª–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–Ω–∞–µ—à—å, –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç.</li></ul>",
            risks: "<ul><li><b>–°–∏–Ω–¥—Ä–æ–º —Å–æ—Ä–æ–∫–∏:</b> –•–≤–∞—Ç–∞–µ—à—å—Å—è –∑–∞ –≤—Å–µ –±–ª–µ—Å—Ç—è—â–µ–µ –∏ –Ω–æ–≤–æ–µ, –Ω–µ —É–≥–ª—É–±–ª—è—è—Å—å –Ω–∏ –≤–æ —á—Ç–æ.</li><li><b>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:</b> –ë–µ–∑ –ª—é–±–∏–º–æ–≥–æ —Å–æ—Ñ—Ç–∞ –º–æ–∂–µ—à—å –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –±–µ—Å–ø–æ–º–æ—â–Ω—ã–º.</li></ul>",
            advice: "<p>–ü–æ–ø—Ä–æ–±—É–π –∏–Ω–æ–≥–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Å–µ–±—è. –í—ã–±–µ—Ä–∏ –æ–¥–∏–Ω –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏ –≤—ã–∂–º–∏ –∏–∑ –Ω–µ–≥–æ –º–∞–∫—Å–∏–º—É–º. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–æ–∂–¥–∞—é—Ç —Å–∞–º—ã–µ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.</p>"
        }
    };

    // === –§–£–ù–ö–¶–ò–ò ===
    function validateInput() {
        const input = document.getElementById("tg-username");
        const btn = document.getElementById("confirm-btn");
        if (input.value.trim().length >= 3) {
            btn.classList.add("active");
            btn.disabled = false;
        } else {
            btn.classList.remove("active");
            btn.disabled = true;
        }
    }

    function confirmTelegram() {
        const input = document.getElementById("tg-username");
        if (input.value.length >= 3) {
            telegramNick = input.value.startsWith("@") ? input.value : "@" + input.value;
            input.disabled = true;
            document.getElementById("confirm-btn").innerText = "‚úì";
            document.getElementById("start-quiz-btn").classList.add("ready");
            document.getElementById("start-quiz-btn").disabled = false;
        }
    }

    function startQuiz() {
        document.getElementById("start-screen").style.display = "none";
        document.getElementById("quiz-container").style.display = "flex";
        loadQuestion();
    }

    function loadQuestion() {
        const q = questions[currentStep];
        document.getElementById("question").innerText = q.text;
        const answersDiv = document.getElementById("answers");
        answersDiv.innerHTML = "";
        
        // Progress bar
        const percent = Math.round((currentStep / questions.length) * 100);
        document.getElementById("progress-fill").style.width = `${percent}%`;

        // Back button visibility
        document.getElementById("back-btn").style.visibility = currentStep > 0 ? "visible" : "hidden";

        q.options.forEach((opt, index) => {
            const btn = document.createElement("button");
            btn.className = "btn";
            btn.innerText = opt.text;
            btn.onclick = () => {
                scoreHistory.push(opt.scores);
                userAnswers.push(opt.text);
                for (let key in opt.scores) { userScores[key] += opt.scores[key]; }
                nextStep();
            };
            // Animation delay
            btn.style.animation = `slideUp 0.4s ease forwards ${index * 0.1}s`;
            btn.style.opacity = "0"; 
            answersDiv.appendChild(btn);
        });
    }

    function nextStep() {
        if (currentStep < questions.length - 1) {
            currentStep++;
            loadQuestion();
        } else {
            document.getElementById("progress-fill").style.width = "100%";
            setTimeout(showResult, 400);
        }
    }

    window.prevStep = function() {
        if (currentStep > 0) {
            currentStep--;
            const lastScores = scoreHistory.pop();
            userAnswers.pop();
            if (lastScores) {
                for (let key in lastScores) { userScores[key] -= lastScores[key]; }
            }
            loadQuestion();
        }
    };

    function showResult() {
        document.getElementById("quiz-container").style.display = "none";
        document.getElementById("result-container").style.display = "block";

        // Find winner
        let max = -1;
        let winner = "virtuoso";
        for (let key in userScores) {
            if (userScores[key] > max) {
                max = userScores[key];
                winner = key;
            }
        }

        const res = resultsData[winner];
        document.getElementById("result-role").innerText = res.title;
        document.getElementById("result-emoji").innerText = res.icon;
        document.getElementById("result-quote").innerText = res.quote;
        document.getElementById("res-psycho").innerHTML = res.psycho;
        document.getElementById("res-superpowers").innerHTML = res.superpowers;
        document.getElementById("res-risks").innerHTML = res.risks;
        document.getElementById("res-advice").innerHTML = res.advice;

        // –û—Ç–ø—Ä–∞–≤–∫–∞ (—Å–∫—Ä—ã—Ç–∞—è)
        const img = new Image();
        img.src = `${GOOGLE_SCRIPT_URL}?telegram=${telegramNick}&role=${res.title}&scores=${JSON.stringify(userScores)}`;
    }
</script>

</body>
</html>
